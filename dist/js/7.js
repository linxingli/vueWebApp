webpackJsonp([7],{208:function(t,n,e){"use strict";function a(t){o||e(263)}Object.defineProperty(n,"__esModule",{value:!0});var i=e(265),r=e.n(i),s=e(266),o=!1,c=e(6),l=a,d=c(r.a,s.a,!1,l,"data-v-44863952",null);d.options.__file="src\\componts\\goods\\buyCart.vue",d.esModule&&Object.keys(d.esModule).some(function(t){return"default"!==t&&"__"!==t.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),n.default=d.exports},209:function(t,n,e){"use strict";t.exports={apiHost:"http://vue.studyit.io/"}},263:function(t,n,e){var a=e(264);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);e(3)("3c402d19",a,!1)},264:function(t,n,e){n=t.exports=e(2)(void 0),n.push([t.i,"\n.total_count[data-v-44863952],.total_price[data-v-44863952] {\r\n  color: red;\r\n  font-size: 20px;\n}\n.total[data-v-44863952] {\r\n  display:flex;\r\n  /* 主轴方向：左右靠边，中间等距 */\r\n  justify-content: space-between;\r\n  /* 每一个上下居中 */\r\n  align-items: center;\r\n  padding: 10px;\r\n  background-color: #ddd;\n}\n.left[data-v-44863952] {\r\n  margin-top: 20px;\n}\n.left p[data-v-44863952]:first-of-type {\r\n  color: #000;\r\n  font-size: 18px;\n}\n.title[data-v-44863952]{\r\n  color: deepskyblue;\r\n  font-size: 16px;\n}\n.price_num span[data-v-44863952]:first-of-type {\r\n  color: red;\r\n  font-size: 15px;\n}\n.price_num span[data-v-44863952]:last-of-type {\r\n  font-size: 13px;\n}\n.cart_item[data-v-44863952] {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 10px;\r\n  border-bottom: 1px solid #ccc;\n}\n.pic[data-v-44863952] {\r\n  width:70px;\r\n  height: 70px;\r\n  padding: 5px;\r\n  border: 1px solid #ccc;\r\n  margin-left: 5px;\r\n  margin-right: 5px;\n}\n.pic img[data-v-44863952] {\r\n  width: 100%;\r\n  height: 100%;\n}\n.center[data-v-44863952] {\r\n  padding: 10px;  \r\n  flex: 1;\r\n  height: 80px;  \r\n  box-sizing: border-box;\r\n  margin-right: 5px;\n}\n.title[data-v-44863952] {\r\n  display: -webkit-box;\r\n  -webkit-box-orient: vertical;\r\n  -webkit-line-clamp: 2;\r\n  word-break: break-all;\r\n  overflow: hidden;\n}\r\n",""])},265:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=e(7),i=e(209),r=function(t){return t&&t.__esModule?t:{default:t}}(i);n.default={data:function(){return{buyCartList:[],buyCartListOK:[],totalCounts:0,totalPrices:0}},created:function(){var t=this;this.buyCartList=this.$store.getters.getGoodsList;var n={};this.buyCartList.forEach(function(t){n[t.goodsid]?n[t.goodsid]+=t.count:n[t.goodsid]=t.count});var e=[];for(var a in n)e.push(a);var i=r.default.apiHost+"api/goods/getshopcarlist/"+e.join();this.$http.get(i).then(function(e){e.body.message.forEach(function(t){t.count=n[t.id],t.value=!0}),t.buyCartListOK=e.body.message,t.getTotal()})},updated:function(){},methods:{getTotal:function(){var t=0,n=0;this.buyCartListOK.length&&this.buyCartListOK.forEach(function(e){e.value&&(t+=e.count,n+=e.sell_price*e.count)}),this.totalCounts=t,this.totalPrices=n},delBuyCart:function(t,n){var e=this;a.MessageBox.confirm("请您三思?").then(function(a){e.$store.commit("delGoodsById",t),e.buyCartListOK.splice(n,1),e.getTotal()},function(t){})}}}},266:function(t,n,e){"use strict";var a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[t._l(t.buyCartListOK,function(n,a){return e("div",{key:n.id,staticClass:"cart_item"},[e("mt-switch",{on:{change:t.getTotal},model:{value:n.value,callback:function(e){t.$set(n,"value",e)},expression:"item.value"}}),t._v(" "),e("div",{staticClass:"pic"},[e("img",{attrs:{src:n.thumb_path,alt:""}})]),t._v(" "),e("div",{staticClass:"center"},[e("div",{staticClass:"title"},[t._v(t._s(n.title))]),t._v(" "),e("p",{staticClass:"price_num"},[e("span",[t._v(t._s(n.sell_price))]),t._v("   \n        "),e("span",[t._v(" 已选数量 "+t._s(n.count))])])]),t._v(" "),e("mt-button",{attrs:{disabled:!n.value,type:"danger",size:"small"},on:{click:function(e){t.delBuyCart(n.id,a)}}},[t._v("删除")])],1)}),t._v(" "),e("div",{staticClass:"total"},[e("div",{staticClass:"left"},[e("p",[t._v("总计（不含运费）")]),t._v(" "),e("p",[t._v("已经勾商品 "),e("span",{staticClass:"total_count"},[t._v(t._s(t.totalCounts))]),t._v(" 件，总价 "),e("span",{staticClass:"total_price"},[t._v(" ¥ "+t._s(t.totalPrices))]),t._v(" 元")])]),t._v(" "),e("mt-button",{attrs:{type:"danger",size:"normal"}},[t._v("去结算")])],1)],2)},i=[];a._withStripped=!0;var r={render:a,staticRenderFns:i};n.a=r}});